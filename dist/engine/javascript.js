var d=async function(){}.constructor;async function l(e){try{let o=[];r(o);let[t,n]=await c(e.files[""]);return console.log(),{ok:!0,duration:n,stdout:t??o.join(`
`),stderr:""}}catch(o){return{ok:!1,duration:0,stdout:"",stderr:o.toString()}}finally{i()}}async function c(e){let o=new d(e),t=new Date,n=await o(),s=new Date-t;return[n,s]}function r(e){let o=new Proxy(console,{get(t,n){return n==="log"||n==="error"||n==="warn"||n==="info"||n==="debug"?(...s)=>{let u=s.map(a=>w(a)).join(" ");e.push(u),t[n](...s)}:t[n]}});window._console=window.console,window.console=o,window.addEventListener("error",t=>console.log(t.error))}function i(){window.console=window._console,delete window._console}function w(e){switch(typeof e){case"undefined":return"undefined";case"object":return JSON.stringify(e);default:return e.toString()}}var f={exec:l,execCode:c,patchConsole:r,unpatchConsole:i};export{f as default};
